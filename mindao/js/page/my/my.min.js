/*!
 * =====================================================
 * TS v1.0.0 ()
 * =====================================================
 */
!function(a,b){b.BasePage=a.Class.extend({navActive:"home",navData:b.data.nav,init:function(){this.initConfig(),this.initPage(),this.initEvent()},initConfig:function(){},initPage:function(){this.initNav()},initEvent:function(){},initNav:function(){var c=this.navData;if(b.IndexPage&&!a.os.plus)for(var d=0,e=c.length;e>d;d++){var f=c[d];"home"===f.id?f.url="index.html":f.url="page/"+f.id+"/"+f.id+".html"}b.template("nav","index/nav",{navData:c,index:this.navActive})}})}(mui,TS),function(a,b,c){b.MyPage=b.BasePage.extend({navActive:"my",listData:b.data.my,initConfig:function(){this._super(),this.listData=b.data.my;document.getElementById("ts_rate");this.rateLink="",a.os.ios?this.rateLink=b.market.ios:a.os.android&&(this.rateLink=b.market.android)},initPage:function(){this._super(),a.ready(function(){a(".mui-scroll-wrapper").scroll();var b=mui("#app").view({defaultPage:"#my",hardwareAccelerated:!1}),c=a.back;a.back=function(){b.canBack()?b.back():c()}}),this.refresh()},refresh:function(){document.getElementById("ts_phone").innerText=b.User.isLogin()?b.User.get_user_name():"未登录"},initEvent:function(){}})}(mui,TS,cache),function(a){a.os.plus&&(TS.MyPage=TS.MyPage.extend(a.extend(TS.AppObject,{init5plusEvent:function(){var a=this;document.addEventListener("nav_my",function(b){a.refresh()})},initEvent:function(){var a=this;document.getElementById("ts_rate").addEventListener("tap",function(){plus.runtime.openURL(a.rateLink)}),document.getElementById("ts_cache").addEventListener("tap",function(){TS.showWaiting("正在删除缓存..."),c.clear(),plus.io.resolveLocalFileSystemURL(TS.cache.image,function(a){a.removeRecursively(function(){TS.closeWaiting(),TS.toast("缓存删除成功")},function(){TS.closeWaiting()})},function(a){TS.closeWaiting()})})}})))}(mui);